<!DOCTYPE html> 
<html lang = "en">
    <head> 
        <meta charset="UTF-8">
        <title></title>
        <script type="text/javascript" src="./two.min.js"></script>
        <style>
             .card {
            margin: 30px auto;
            width: 500px;
            height: 500px;
            border-radius: 8px;
            border: 5px solid;
            border-width: 2px;
            border-color: #505b61;
            
            cursor: pointer;
            transition: 0.4s;
            background-color: #f6f7f8;
            overflow: hidden;
          
        }
        </style>
           
    </head>
    
    <body>
        <div class="cards-list">
            <div id="canvas_1" class="card"></div>
        </div> 
        <script type="text/javascript">
            var params = {
                fitted: true
            };
    
            var ob1 = document.getElementById('canvas_1');
            var two1 = new Two(params);
            two1.appendTo(ob1);
            var circle = two1.makeCircle((two1.width ) / 2, (two1.height ) / 2, 100);
            circle.fill = '#06090c';
            circle.stroke = '#42c1f9';
            circle.linewidth = 6;
            two1.update();
            var mouse = new Two.Vector();
        var yaxis = two1.makeLine((two1.width/2), (two1.height/2)-100, (two1.width/2), (two1.height/2)+100);
        
        yaxis.linewidth = 4;
        yaxis.noFill();
        yaxis.stroke = "yellow";

        var xaxis = two1.makeLine((two1.width/2)-100, (two1.height/2), (two1.width/2)+100, (two1.height/2));
        xaxis.linewidth = 4;
        xaxis.noFill();
        xaxis.stroke = "yellow";
        two1.update();
        var mouse1 = new Two.Vector();
       
        var dot = two1.makeCircle(0, (two1.height) / 2, 10);
        dot.fill = '#06090c';
        dot.stroke = '#13ffb9';
        dot.linewidth = 3;
        two1.update();
        two1.update();

        ob1.addEventListener('pointermove', pointermove, false);

        function pointermove(e) {
            mouse.x = e.clientX - getOffset(ob1).left;
            mouse.y = e.clientY - getOffset(ob1).top;
            // console.log(mouse.x, mouse.y);
            mouse1.x = e.clientX - getOffset1(ob1).left;
            mouse1.y = e.clientY - getOffset1(ob1).top;
            let r = 100;
                let theta = Math.atan((mouse1.y -(two1.height/2))/(mouse1.x - (two1.width/2))) ; 
                console.log(theta*(180/Math.PI ))
                // console.log(mouse.x)
              
                    var yaxis1 = two1.makeLine(- r,0, r,0);
                    yaxis1.position.set(two1.width/2, two1.height/2)
                    // console.log((two1.width/2) - r,(two1.height/2), (two1.width/2) + r, (two1.height/2))
                    yaxis1.linewidth = 4;
                    yaxis1.noFill();
                    yaxis1.stroke = "green";
                    dot.translation.set(mouse1.x, mouse1.y);
                    yaxis1.rotation = theta;
                    yaxis1.remove()
            two1.update();
            
            
        }  
    
        function getOffset(el) {
            const rect = el.getBoundingClientRect();
            return {
                left: rect.left + window.scrollX,
                top: rect.top + window.scrollY
            }
        }
        function getOffset1(el) {
            const rect = el.getBoundingClientRect();
            return {
                left: rect.left + window.scrollX,
                top: rect.top + window.scrollY
            }
        }
        </script>
    </body>
</html>